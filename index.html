<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Le Baromètre du Cœur</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Lato:wght@300;400;700&family=Great+Vibes&display=swap"
    rel="stylesheet">
  <style>
    body {
      font-family: 'Lato', sans-serif;
      background-color: #fff1f2;
      /* Rose 50 */
      color: #4c0519;
      /* Rose 950 */
      overflow-x: hidden;
    }

    h1,
    h2,
    h3,
    .font-serif {
      font-family: 'Cinzel', serif;
    }

    .font-handwriting {
      font-family: 'Great Vibes', cursive;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #fff1f2;
    }

    ::-webkit-scrollbar-thumb {
      background: #fb7185;
      /* Rose 400 */
      border-radius: 4px;
    }

    /* Floating Petals Animation */
    @keyframes float {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
      }

      10% {
        opacity: 0.6;
      }

      90% {
        opacity: 0.4;
      }

      100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }

    .petal {
      position: absolute;
      bottom: -20px;
      width: 12px;
      height: 12px;
      background: #fda4af;
      /* Rose 300 */
      border-radius: 2px 10px 4px 10px;
      opacity: 0;
      z-index: 0;
      pointer-events: none;
      will-change: transform, opacity;
      animation: float 15s linear infinite;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .petal:nth-child(1) {
      left: 10%;
      animation-duration: 12s;
      background: #fecdd3;
    }

    .petal:nth-child(2) {
      left: 20%;
      animation-duration: 18s;
      animation-delay: 2s;
      background: #fb7185;
    }

    .petal:nth-child(3) {
      left: 30%;
      animation-duration: 14s;
      animation-delay: 4s;
    }

    .petal:nth-child(4) {
      left: 50%;
      animation-duration: 16s;
      animation-delay: 1s;
      background: #f43f5e;
    }

    .petal:nth-child(5) {
      left: 70%;
      animation-duration: 13s;
      animation-delay: 3s;
    }

    .petal:nth-child(6) {
      left: 80%;
      animation-duration: 19s;
      animation-delay: 5s;
      background: #fb7185;
    }

    .petal:nth-child(7) {
      left: 90%;
      animation-duration: 15s;
      animation-delay: 2s;
    }

    /* Envelope Animations */
    .envelope-container {
      perspective: 1000px;
      transition: transform 1s ease-in-out;
    }

    .flap {
      transform-origin: top;
      transition: transform 0.8s ease-in-out, z-index 0.8s;
    }

    .flap.open {
      transform: rotateX(180deg);
      z-index: 0;
    }

    .letter-content {
      transition: transform 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .letter-content.extract {
      transform: translateY(-220px);
      /* Moves letter up out of envelope */
      z-index: 20;
      cursor: pointer;
    }

    .letter-content.extract:hover {
      transform: translateY(-240px);
    }

    /* OPTIMIZED BIRD ANIMATION using translate3d for hardware acceleration */
    @keyframes birdFlyAcross {
      0% {
        transform: translate3d(-20vw, 10vh, 0) scale(0.6);
        opacity: 0;
      }

      10% {
        opacity: 1;
      }

      100% {
        transform: translate3d(50vw, 40vh, 0) scale(1);
        opacity: 1;
      }
    }

    @keyframes birdFlyAway {
      0% {
        transform: translate3d(50vw, 40vh, 0) scale(1);
      }

      100% {
        transform: translate3d(120vw, -10vh, 0) scale(0.8);
      }
    }

    @keyframes envelopeDrop {
      0% {
        top: 40vh;
        left: 50vw;
        transform: translate(-50%, -50%) scale(0.5) rotate(15deg);
        opacity: 1;
      }

      60% {
        top: 55vh;
        left: 50vw;
        transform: translate(-50%, -50%) scale(0.85) rotate(5deg);
        opacity: 1;
      }

      100% {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    @keyframes envelopeSettle {
      0% {
        transform: translate(-50%, -50%) scale(1);
      }

      30% {
        transform: translate(-50%, -50%) scale(1.03);
      }

      60% {
        transform: translate(-50%, -50%) scale(0.98);
      }

      100% {
        transform: translate(-50%, -50%) scale(1);
      }
    }

    @keyframes flutter {

      0%,
      100% {
        transform: translate(-50%, -50%) rotate(0deg);
      }

      25% {
        transform: translate(-50%, -50%) rotate(2deg);
      }

      75% {
        transform: translate(-50%, -50%) rotate(-2deg);
      }
    }

    .bird-flying {
      animation: birdFlyAcross 3.5s cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
      will-change: transform;
    }

    .bird-away {
      animation: birdFlyAway 4s ease-in forwards;
      will-change: transform;
    }

    .envelope-falling {
      animation: envelopeDrop 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      will-change: top, left, transform;
    }

    .envelope-grounded {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: envelopeSettle 0.6s ease-out forwards, flutter 6s ease-in-out 0.6s infinite;
    }

    @keyframes pulse-gold {

      0%,
      100% {
        box-shadow: 0 0 0 0px rgba(217, 119, 6, 0.4);
      }

      50% {
        box-shadow: 0 0 0 10px rgba(217, 119, 6, 0);
      }
    }

    .seal-pulse {
      animation: pulse-gold 2s infinite;
    }

    .paper-texture {
      background-color: #fdf6e3;
      background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
    }

    /* Ink Bleed Effect for Text */
    .ink-text {
      color: #2c1a1d;
      text-shadow: 0 0 1px rgba(60, 20, 20, 0.1);
    }

    /* BOOK FLIP ANIMATION */
    .book-perspective {
      perspective: 1500px;
    }

    .book-page-wrapper {
      position: relative;
      transform-style: preserve-3d;
    }

    @keyframes flipIn {
      from {
        transform: rotateY(-90deg);
        opacity: 0;
      }

      to {
        transform: rotateY(0deg);
        opacity: 1;
      }
    }

    @keyframes fadeSlideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .page-flip-enter {
      animation: flipIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      transform-origin: left center;
    }

    .content-fade-in {
      animation: fadeSlideUp 0.6s ease-out forwards;
    }
  </style>
</head>

<body class="bg-[#fff1f2] text-slate-800 min-h-screen overflow-x-hidden">
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
  <!-- Ambient Petals -->
  <div class="petal"></div>
  <div class="petal"></div>
  <div class="petal"></div>
  <div class="petal"></div>
  <div class="petal"></div>
  <div class="petal"></div>
  <div class="petal"></div>
</body>

</html>